[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-24ddc0f5d75046c5622901739e7c5dd533143b0c8e959d652212380cedb1ea36.svg)](https://classroom.github.com/a/iHpKfUUO)

# Как запускать
__Способ первый - с помощью cli__
1. Скачать репозиторий </br>
(все далее - из корневой папки)
2. Установить нужные библиотеки ```pip install -r requirements.txt```
3. Скачать нужные модели с помощью команды ```python -m thesis_search download IDX-TYPE```</br>
   ```IDX-TYPE``` - тип индекса (w2v, ft)
4. Выполнить команду  ```python -m thesis_search search QUERY --idx-type IDX-TYPE --n N --style STYLE``` </br>
   ```QUERY``` - текст запроса (в случае запроса из нескольких слов написать в кавычках)</br>
   ```IDX-TYPE``` - тип индекса (bm25, w2v, ft)</br>
   ```N``` - число документов в выдаче</br>
   ```STYLE``` - как выводить документы (в виде текста - text или в виде таблицы - table)</br>
   
Еще в cli есть комманда ```stats``` которая покажет статистику по способам индексации (время и память): ```python -m thesis_search stats```</br>

__Способ второй - запустить скрипт search__ </br>
_Для количества запросов больше одного - более предпочтителен, так как он едининожды инициалиализирует все переменные, а потом в цикле происходит поиск - в результатет время обработки каждого запроса сильно ниже_
1. Скачать репозиторий </br>
(все далее - из корневой папки)
2. Установить нужные библиотеки ```pip install -r requirements.txt```
3. Запустить скрипт с помощью ```python -m thesis_search.search```
4. Следовать инструкциям в консоли (тут тоже можно будет ввести запрос, выбрать тип индекса и количество документов в выдаче)

# Как устроен репозиторий
- В папке [data](/data) лежат все данные, связанные с корпусом - база данных, файлы со статистикой и папки с предпосчитанными индексами и с векторными моделями
- В папке [scripts](/scripts) лежат тетрадки, которые использовались для создания/изменения корпуса и для подсчета статистики
- Папка [thesis_search](/thesis_search) это пакет, содержащий всю кодовую часть для поиска
  - [cli](/thesis_search/cli) содержит интерфейс коммандной строки
  - [utils](/thesis_search/utils) содержит модуль со вспомогательными функциями и модуль для работы с базой данных
  - [search_models](/thesis_search/search_models) содержит модели для поиска
    - [base](/thesis_search/search_models/base) - здесь лежат абстрактные классы
    - [indexing](/thesis_search/search_models/base) - классы с реализацией конкретного типа индекса
